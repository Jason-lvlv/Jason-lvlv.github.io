(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b9f87"],{"34e5":function(e,t,n){"use strict";n.d(t,"l",(function(){return _})),n.d(t,"m",(function(){return w})),n.d(t,"n",(function(){return l})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return b})),n.d(t,"j",(function(){return m})),n.d(t,"k",(function(){return p})),n.d(t,"e",(function(){return v})),n.d(t,"i",(function(){return I})),n.d(t,"a",(function(){return $})),n.d(t,"g",(function(){return T})),n.d(t,"f",(function(){return x})),n.d(t,"h",(function(){return P}));var a=n("1da1"),o=(n("96cf"),n("d3b7"),n("25f0"),n("b893")),r=n("b292"),s=n("56f5"),c=n("511e"),i=(n("1ea3"),n("b569")),u=(n("e2bc"),n("766a")),h=n("14bd"),d=[{key:"Debt scale is out of scope",val:"Debt scale is out of scope"},{key:"bad work factor",val:"Price matters too much"}],_=function(e){console.log("receiveAirdrop",e);var t=__ownInstance__.$store.state.base.address,n=__ownInstance__.$store.state.base.airdropAddress,o=new web3.eth.Contract(r,n),s=o.methods.draw(e).encodeABI(),c=(new Date).getTime().toString();return __ownInstance__.$store.dispatch("createOrderForm",{val:0,id:c}),new Promise((function(e,o){var r;web3.eth.getTransactionCount(t).then(function(){var i=Object(a["a"])(regeneratorRuntime.mark((function a(i){var u,h,d;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,web3.eth.getGasPrice();case 2:return u=a.sent,a.next=5,web3.eth.estimateGas({from:t,to:n,data:s});case 5:h=a.sent,console.log("estimateGas",h),d=[{from:t,to:n,data:s,gasPrice:web3.utils.toHex(u),gas:web3.utils.toHex(h)}],web3.eth.sendTransaction(d[0]).on("transactionHash",(function(e){console.log("hash",e),e&&(r=e)})).on("receipt",(function(t){__ownInstance__.$store.dispatch("getAirdropValue"),__ownInstance__.$store.dispatch("getAirDropDrawed"),__ownInstance__.$store.dispatch("changeTradeStatus",{id:c,val:1,hash:r}),e(r)})).on("confirmation",(function(e,t){})).on("error",(function(e){var t=4001===e.code;__ownInstance__.$store.dispatch("changeTradeStatus",{id:c,val:2,isUserDeny:t,hash:r}),console.log("err",e),o(e)}));case 9:case"end":return a.stop()}}),a)})));return function(e){return i.apply(this,arguments)}}()).catch((function(e){console.log("receiveAirdrop_err",e),__ownInstance__.$store.dispatch("changeTradeStatus",{id:c,val:2,hash:r}),o(e)}))}))},w=function(e){var t=__ownInstance__.$store.state.base.address,n=__ownInstance__.$store.state.base.timeLockAddress,o=new web3.eth.Contract(h,n),r=o.methods.withdraw(e).encodeABI(),s=(new Date).getTime().toString();return __ownInstance__.$store.dispatch("createOrderForm",{val:0,id:s}),new Promise((function(e,o){var c;web3.eth.getTransactionCount(t).then(function(){var i=Object(a["a"])(regeneratorRuntime.mark((function a(i){var u,h,d;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,web3.eth.getGasPrice();case 2:return u=a.sent,a.next=5,web3.eth.estimateGas({from:t,to:n,data:r});case 5:h=a.sent,console.log("estimateGas",h),d=[{from:t,to:n,data:r,gasPrice:web3.utils.toHex(u),gas:web3.utils.toHex(h)}],web3.eth.sendTransaction(d[0]).on("transactionHash",(function(e){console.log("hash",e),e&&(c=e)})).on("receipt",(function(t){__ownInstance__.$store.dispatch("getAirdropValue"),__ownInstance__.$store.dispatch("getAirDropDrawed"),__ownInstance__.$store.dispatch("changeTradeStatus",{id:s,val:1,hash:c}),e(c)})).on("confirmation",(function(e,t){})).on("error",(function(e){var t=4001===e.code;__ownInstance__.$store.dispatch("changeTradeStatus",{id:s,val:2,isUserDeny:t,hash:c}),console.log("err",e),o(e)}));case 9:case"end":return a.stop()}}),a)})));return function(e){return i.apply(this,arguments)}}()).catch((function(e){console.log("receiveAirdrop_err",e),__ownInstance__.$store.dispatch("changeTradeStatus",{id:s,val:2,hash:c}),o(e)}))}))},l=function(){var e=__ownInstance__.$store.state.base.address,t=__ownInstance__.$store.state.base.airdropAddress,n=new web3.eth.Contract(r,t),o=n.methods.claim().encodeABI(),s=(new Date).getTime().toString();return __ownInstance__.$store.dispatch("createOrderForm",{val:0,id:s}),new Promise((function(n,r){var c;web3.eth.getTransactionCount(e).then(function(){var i=Object(a["a"])(regeneratorRuntime.mark((function a(i){var u,h,d;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,web3.eth.getGasPrice();case 2:return u=a.sent,a.next=5,web3.eth.estimateGas({from:e,to:t,data:o});case 5:h=a.sent,console.log("estimateGas",h),d=[{from:e,to:t,data:o,gasPrice:web3.utils.toHex(u),gas:web3.utils.toHex(h)}],web3.eth.sendTransaction(d[0]).on("transactionHash",(function(e){console.log("hash",e),e&&(c=e)})).on("receipt",(function(e){__ownInstance__.$store.dispatch("getAirdropValue"),__ownInstance__.$store.dispatch("getAirDropDrawed"),__ownInstance__.$store.dispatch("changeTradeStatus",{id:s,val:1,hash:c}),n(c)})).on("confirmation",(function(e,t){})).on("error",(function(e){var t=4001===e.code;__ownInstance__.$store.dispatch("changeTradeStatus",{id:s,val:2,isUserDeny:t,hash:c}),console.log("err",e),r(e)}));case 9:case"end":return a.stop()}}),a)})));return function(e){return i.apply(this,arguments)}}()).catch((function(e){console.log("receiveAirdrop_err",e),__ownInstance__.$store.dispatch("changeTradeStatus",{id:s,val:2,hash:c}),r(e)}))}))},g=function(e,t,n,r){console.log("tokenAddress",e),console.log("approveAddress",t);var c=__ownInstance__.$store.state.base.address,i=n&&r?web3.utils.toHex(Object(o["e"])(n,r)):web3.utils.toHex(Object(o["f"])(1.157920892373163*Math.pow(10,59))),u=new web3.eth.Contract(s,e),h=t||__ownInstance__.$store.state.base.bankAddress,d=u.methods.approve(h,i).encodeABI(),_=(new Date).getTime().toString();return __ownInstance__.$store.dispatch("createOrderForm",{val:0,id:_}),new Promise((function(t,n){var o;web3.eth.getTransactionCount(c).then(function(){var r=Object(a["a"])(regeneratorRuntime.mark((function a(r){var s,i,u,h;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,web3.eth.getGasPrice();case 2:return s=a.sent,i={from:c,to:e,data:d},a.next=6,web3.eth.estimateGas(i);case 6:u=a.sent,h=[{chainId:__ownInstance__.$store.state.base.chainId,nonce:web3.utils.toHex(r),gasLimit:web3.utils.toHex(u),gasPrice:web3.utils.toHex(s),to:e,from:c,data:d}],web3.eth.sendTransaction(h[0]).on("transactionHash",(function(e){console.log("hash",e),e&&(o=e)})).on("receipt",(function(e){__ownInstance__.$store.dispatch("changeTradeStatus",{id:_,val:1,hash:o}),t(o)})).on("confirmation",(function(e,t){})).on("error",(function(e){var t=4001===e.code;__ownInstance__.$store.dispatch("changeTradeStatus",{id:_,val:2,isUserDeny:t,hash:o}),console.log("err",e),n(e)}));case 9:case"end":return a.stop()}}),a)})));return function(e){return r.apply(this,arguments)}}())}))},f=function(e,t,n){console.log("depositPutIn",n);var r="0x0000000000000000000000000000000000000000"===e,s=__ownInstance__.$store.state.base.address,i=__ownInstance__.$store.state.base.bankAddress,u=new web3.eth.Contract(c,i),h=Object(o["e"])(n,t),d=r?"0x0":web3.utils.toHex(h),_=u.methods.deposit(e,d).encodeABI(),w=(new Date).getTime().toString();return __ownInstance__.$store.dispatch("createOrderForm",{val:0,id:w}),new Promise((function(e,t){var n;web3.eth.getTransactionCount(s).then(function(){var o=Object(a["a"])(regeneratorRuntime.mark((function a(o){var c,u,d,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,web3.eth.getGasPrice();case 2:return c=a.sent,u={from:s,to:i,data:_},r&&(u.value=web3.utils.toHex(h)),a.next=7,web3.eth.estimateGas(u);case 7:d=a.sent,console.log("estimateGas",d),l=[{from:s,to:i,data:_,gasPrice:web3.utils.toHex(c),gas:web3.utils.toHex(d)}],r&&(l[0].value=web3.utils.toHex(h)),web3.eth.sendTransaction(l[0]).on("transactionHash",(function(e){console.log("hash",e),e&&(n=e)})).on("receipt",(function(t){__ownInstance__.$store.dispatch("changeTradeStatus",{id:w,val:1,hash:n}),e(n)})).on("confirmation",(function(e,t){})).on("error",(function(e){var a=4001===e.code;__ownInstance__.$store.dispatch("changeTradeStatus",{id:w,val:2,isUserDeny:a,hash:n}),console.log("err",e),t(e)}));case 12:case"end":return a.stop()}}),a)})));return function(e){return o.apply(this,arguments)}}()).catch((function(e){console.log("receiveAirdrop_err",e),__ownInstance__.$store.dispatch("changeTradeStatus",{id:w,val:2,hash:n}),t(e)}))}))},b=function(e,t,n){console.log("depositPutOut",n);var r=__ownInstance__.$store.state.base.address,s=__ownInstance__.$store.state.base.bankAddress,i=new web3.eth.Contract(c,s),u=Object(o["e"])(n,t),h=i.methods.withdraw(e,web3.utils.toHex(u)).encodeABI(),d=(new Date).getTime().toString();return __ownInstance__.$store.dispatch("createOrderForm",{val:0,id:d}),new Promise((function(e,t){var n;web3.eth.getTransactionCount(r).then(function(){var o=Object(a["a"])(regeneratorRuntime.mark((function a(o){var c,i,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,web3.eth.getGasPrice();case 2:return c=a.sent,a.next=5,web3.eth.estimateGas({from:r,to:s,data:h});case 5:i=a.sent,console.log("estimateGas",i),u=[{from:r,to:s,data:h,gasPrice:web3.utils.toHex(c),gas:web3.utils.toHex(i)}],web3.eth.sendTransaction(u[0]).on("transactionHash",(function(e){console.log("hash",e),e&&(n=e)})).on("receipt",(function(t){__ownInstance__.$store.dispatch("changeTradeStatus",{id:d,val:1,hash:n}),e(n)})).on("confirmation",(function(e,t){})).on("error",(function(e){var a=4001===e.code;__ownInstance__.$store.dispatch("changeTradeStatus",{id:d,val:2,isUserDeny:a,hash:n}),console.log("err",e),t(e)}));case 9:case"end":return a.stop()}}),a)})));return function(e){return o.apply(this,arguments)}}()).catch((function(e){console.log("receiveAirdrop_err",e),__ownInstance__.$store.dispatch("changeTradeStatus",{id:d,val:2,hash:n}),t(e)}))}))},m=function(e,t,n,r){console.log("pledgePutIn",r),console.log("pledgePutInAmount",n);var s=__ownInstance__.$store.state.base.address,c=__ownInstance__.$store.state.base.fairLaunchAddress,u=new web3.eth.Contract(i,c),h=Object(o["e"])(n,t),d=u.methods.deposit(s,r,web3.utils.toHex(h)).encodeABI(),_=(new Date).getTime().toString();return __ownInstance__.$store.dispatch("createOrderForm",{val:0,id:_}),new Promise((function(e,t){var n;web3.eth.getTransactionCount(s).then(function(){var o=Object(a["a"])(regeneratorRuntime.mark((function a(o){var r,i,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,web3.eth.getGasPrice();case 2:return r=a.sent,a.next=5,web3.eth.estimateGas({from:s,to:c,data:d});case 5:i=a.sent,console.log("estimateGas",i),u=[{from:s,to:c,data:d,gasPrice:web3.utils.toHex(r),gas:web3.utils.toHex(i)}],web3.eth.sendTransaction(u[0]).on("transactionHash",(function(e){console.log("hash",e),e&&(n=e)})).on("receipt",(function(t){__ownInstance__.$store.dispatch("changeTradeStatus",{id:_,val:1,hash:n}),e(n)})).on("confirmation",(function(e,t){})).on("error",(function(e){var a=4001===e.code;__ownInstance__.$store.dispatch("changeTradeStatus",{id:_,val:2,isUserDeny:a,hash:n}),console.log("err",e),t(e)}));case 9:case"end":return a.stop()}}),a)})));return function(e){return o.apply(this,arguments)}}()).catch((function(e){console.log("receiveAirdrop_err",e),__ownInstance__.$store.dispatch("changeTradeStatus",{id:_,val:2,hash:n}),t(e)}))}))},p=function(e,t,n,r){console.log("pledgePutOut",r),console.log("pledgePutAmount",n);var s=__ownInstance__.$store.state.base.address,c=__ownInstance__.$store.state.base.fairLaunchAddress,u=new web3.eth.Contract(i,c),h=Object(o["e"])(n,t),d=u.methods.withdraw(s,r,web3.utils.toHex(h)).encodeABI(),_=(new Date).getTime().toString();return __ownInstance__.$store.dispatch("createOrderForm",{val:0,id:_}),new Promise((function(e,t){var n;web3.eth.getTransactionCount(s).then(function(){var o=Object(a["a"])(regeneratorRuntime.mark((function a(o){var r,i,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,web3.eth.getGasPrice();case 2:return r=a.sent,a.next=5,web3.eth.estimateGas({from:s,to:c,data:d});case 5:i=a.sent,console.log("estimateGas",i),u=[{from:s,to:c,data:d,gasPrice:web3.utils.toHex(r),gas:web3.utils.toHex(i)}],web3.eth.sendTransaction(u[0]).on("transactionHash",(function(e){console.log("hash",e),e&&(n=e)})).on("receipt",(function(t){__ownInstance__.$store.dispatch("changeTradeStatus",{id:_,val:1,hash:n}),e(n)})).on("confirmation",(function(e,t){})).on("error",(function(e){var a=4001===e.code;__ownInstance__.$store.dispatch("changeTradeStatus",{id:_,val:2,isUserDeny:a,hash:n}),console.log("err",e),t(e)}));case 9:case"end":return a.stop()}}),a)})));return function(e){return o.apply(this,arguments)}}()).catch((function(e){console.log("receiveAirdrop_err",e),__ownInstance__.$store.dispatch("changeTradeStatus",{id:_,val:2,hash:n}),t(e)}))}))},v=function(e){var t=__ownInstance__.$store.state.base.address,n=__ownInstance__.$store.state.base.fairLaunchAddress,o=new web3.eth.Contract(i,n),r=o.methods.harvest(e).encodeABI(),s=(new Date).getTime().toString();return __ownInstance__.$store.dispatch("createOrderForm",{val:0,id:s}),new Promise((function(e,o){var c;web3.eth.getTransactionCount(t).then(function(){var i=Object(a["a"])(regeneratorRuntime.mark((function a(i){var u,h,d;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,web3.eth.getGasPrice();case 2:return u=a.sent,a.next=5,web3.eth.estimateGas({from:t,to:n,data:r});case 5:h=a.sent,console.log("estimateGas",h),d=[{from:t,to:n,data:r,gasPrice:web3.utils.toHex(u),gas:web3.utils.toHex(h)}],web3.eth.sendTransaction(d[0]).on("transactionHash",(function(e){console.log("hash",e),e&&(c=e)})).on("receipt",(function(t){__ownInstance__.$store.dispatch("changeTradeStatus",{id:s,val:1,hash:c}),e(c)})).on("confirmation",(function(e,t){})).on("error",(function(e){var t=4001===e.code;__ownInstance__.$store.dispatch("changeTradeStatus",{id:s,val:2,isUserDeny:t,hash:c}),console.log("err",e),o(e)}));case 9:case"end":return a.stop()}}),a)})));return function(e){return i.apply(this,arguments)}}()).catch((function(e){console.log("getIROReward_err",e),__ownInstance__.$store.dispatch("changeTradeStatus",{id:s,val:2,hash:c}),o(e)}))}))},I=function(e,t,n,r,s,i,u,h,_,w){console.log("borrowToken",e),console.log("otherToken",t),console.log("borrowTokenAmount",n),console.log("borrowTokenAmount",n),console.log("otherTokenAmount",r),console.log("borrowAmount",u),console.log("posId",h),console.log("pid",_),console.log("strategyAddress",w);var l=__ownInstance__.$store.state.base.address,g=Object(o["e"])(n,s),f=Object(o["e"])(r,i),b=Object(o["e"])(u,s);console.log("borrowWei",b);var m=web3.eth.abi.encodeParameters(["address","address","uint256","uint256","uint256"],[e,t,g,f,0]),p=w,v=web3.eth.abi.encodeParameters(["address","bytes"],[p,m]),I=__ownInstance__.$store.state.base.bankAddress,$=new web3.eth.Contract(c,I),T=web3.utils.toHex(b),x=$.methods.work(h,_,T,v).encodeABI(),P=(new Date).getTime().toString();return __ownInstance__.$store.dispatch("createOrderForm",{val:0,id:P}),new Promise((function(n,o){var r;web3.eth.getTransactionCount(l).then(function(){var s=Object(a["a"])(regeneratorRuntime.mark((function a(s){var c,i,u,h,_,w,b;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,web3.eth.getGasPrice();case 2:return c=a.sent,i={from:l,to:I,data:x},u=0,"0x0000000000000000000000000000000000000000"===e?u=g:"0x0000000000000000000000000000000000000000"===t&&(u=f),i.value=web3.utils.toHex(u),a.prev=7,a.next=10,web3.eth.estimateGas(i);case 10:h=a.sent,a.next=21;break;case 13:a.prev=13,a.t0=a["catch"](7),_=a.t0.toString(),w="",d.forEach((function(e){-1!==_.indexOf(e.key)&&(w=e.val)})),__ownInstance__.$store.dispatch("changeTradeStatus",{id:P,val:2,hash:r,errMessage:w}),o(a.t0),console.log("错误",w);case 21:if(h){a.next=23;break}return a.abrupt("return");case 23:console.log("estimateGas",h),b=[{from:l,to:I,data:x,gasPrice:web3.utils.toHex(c),gas:web3.utils.toHex(h)}],b[0].value=web3.utils.toHex(u),web3.eth.sendTransaction(b[0]).on("transactionHash",(function(e){console.log("hash",e),e&&(r=e)})).on("receipt",(function(e){__ownInstance__.$store.dispatch("changeTradeStatus",{id:P,val:1,hash:r}),__ownInstance__.$store.commit("setPositionFinish",!0),n(r)})).on("confirmation",(function(e,t){})).on("error",(function(e){var t=4001===e.code;__ownInstance__.$store.dispatch("changeTradeStatus",{id:P,val:2,isUserDeny:t,hash:r}),console.log("err",e),o(e)}));case 27:case"end":return a.stop()}}),a,null,[[7,13]])})));return function(e){return s.apply(this,arguments)}}()).catch((function(e){var t=e.toString(),n="";d.forEach((function(e){-1!==t.indexOf(e.key)&&(n=e.val)})),console.log("receiveAirdrop_err",e),__ownInstance__.$store.dispatch("changeTradeStatus",{id:P,val:2,hash:r,errMessage:n}),o(e)}))}))},$=function(e,t,n,o,r){console.log("borrowToken",e),console.log("otherToken",t),console.log("type",n),console.log("posId",o),console.log("withDraw",r);var s=__ownInstance__.$store.state.base.address,i=web3.eth.abi.encodeParameters(["address","address","uint"],[e,t,n]),u=r,h=web3.eth.abi.encodeParameters(["address","bytes"],[u,i]),d=__ownInstance__.$store.state.base.bankAddress,_=new web3.eth.Contract(c,d),w=_.methods.work(o,0,0,h).encodeABI(),l=(new Date).getTime().toString();return __ownInstance__.$store.dispatch("createOrderForm",{val:0,id:l}),new Promise((function(e,t){var n;web3.eth.getTransactionCount(s).then(function(){var o=Object(a["a"])(regeneratorRuntime.mark((function a(o){var r,c,i,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,web3.eth.getGasPrice();case 2:return r=a.sent,c={from:s,to:d,data:w},a.next=6,web3.eth.estimateGas(c);case 6:i=a.sent,console.log("estimateGas",i),u=[{from:s,to:d,data:w,gasPrice:web3.utils.toHex(r),gas:web3.utils.toHex(i)}],web3.eth.sendTransaction(u[0]).on("transactionHash",(function(e){console.log("hash",e),e&&(n=e)})).on("receipt",(function(t){__ownInstance__.$store.dispatch("changeTradeStatus",{id:l,val:1,hash:n}),__ownInstance__.$store.commit("setPositionFinish",!0),e(n)})).on("confirmation",(function(e,t){})).on("error",(function(e){var a=4001===e.code;__ownInstance__.$store.dispatch("changeTradeStatus",{id:l,val:2,isUserDeny:a,hash:n}),console.log("err",e),t(e),__ownInstance__.$store.commit("setPositionFinish",!0)}));case 10:case"end":return a.stop()}}),a)})));return function(e){return o.apply(this,arguments)}}()).catch((function(e){console.log("receiveAirdrop_err",e),__ownInstance__.$store.dispatch("changeTradeStatus",{id:l,val:2,hash:n}),__ownInstance__.$store.commit("setPositionFinish",!0),t(e)}))}))},T=function(e){console.log("getPositionReward",e);var t=__ownInstance__.$store.state.base.address,n=__ownInstance__.$store.state.base.fairLaunchAddress,o=new web3.eth.Contract(i,n),r=o.methods.harvest(e).encodeABI(),s=(new Date).getTime().toString();return __ownInstance__.$store.dispatch("createOrderForm",{val:0,id:s}),new Promise((function(e,o){var c;web3.eth.getTransactionCount(t).then(function(){var i=Object(a["a"])(regeneratorRuntime.mark((function a(i){var u,h,d;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,web3.eth.getGasPrice();case 2:return u=a.sent,a.next=5,web3.eth.estimateGas({from:t,to:n,data:r});case 5:h=a.sent,console.log("estimateGas",h),d=[{from:t,to:n,data:r,gasPrice:web3.utils.toHex(u),gas:web3.utils.toHex(h)}],web3.eth.sendTransaction(d[0]).on("transactionHash",(function(e){console.log("hash",e),e&&(c=e)})).on("receipt",(function(t){__ownInstance__.$store.dispatch("changeTradeStatus",{id:s,val:1,hash:c}),e(c)})).on("confirmation",(function(e,t){})).on("error",(function(e){var t=4001===e.code;__ownInstance__.$store.dispatch("changeTradeStatus",{id:s,val:2,isUserDeny:t,hash:c}),console.log("err",e),o(e)}));case 9:case"end":return a.stop()}}),a)})));return function(e){return i.apply(this,arguments)}}()).catch((function(e){console.log("getPositionRewardH2O",e),__ownInstance__.$store.dispatch("changeTradeStatus",{id:s,val:2,hash:c}),o(e)}))}))},x=function(e){console.log("getPositionRewardBNB");var t=__ownInstance__.$store.state.base.address,n=new web3.eth.Contract(u,e),o=n.methods.harvest().encodeABI(),r=(new Date).getTime().toString();return __ownInstance__.$store.dispatch("createOrderForm",{val:0,id:r}),new Promise((function(n,s){var c;web3.eth.getTransactionCount(t).then(function(){var i=Object(a["a"])(regeneratorRuntime.mark((function a(i){var u,h,d;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,web3.eth.getGasPrice();case 2:return u=a.sent,a.next=5,web3.eth.estimateGas({from:t,to:e,data:o});case 5:h=a.sent,console.log("estimateGas",h),d=[{from:t,to:e,data:o,gasPrice:web3.utils.toHex(u),gas:web3.utils.toHex(h)}],web3.eth.sendTransaction(d[0]).on("transactionHash",(function(e){console.log("hash",e),e&&(c=e)})).on("receipt",(function(e){__ownInstance__.$store.dispatch("changeTradeStatus",{id:r,val:1,hash:c}),n(c)})).on("confirmation",(function(e,t){})).on("error",(function(e){var t=4001===e.code;__ownInstance__.$store.dispatch("changeTradeStatus",{id:r,val:2,isUserDeny:t,hash:c}),console.log("err",e),s(e)}));case 9:case"end":return a.stop()}}),a)})));return function(e){return i.apply(this,arguments)}}()).catch((function(e){console.log("getPositionRewardH2O",e),__ownInstance__.$store.dispatch("changeTradeStatus",{id:r,val:2,hash:c}),s(e)}))}))},P=function(e){console.log("getStakeRewardH2O",e);var t=__ownInstance__.$store.state.base.address,n=__ownInstance__.$store.state.base.fairLaunchAddress,o=new web3.eth.Contract(i,n),r=o.methods.harvestStake(e).encodeABI(),s=(new Date).getTime().toString();return __ownInstance__.$store.dispatch("createOrderForm",{val:0,id:s}),new Promise((function(e,o){var c;web3.eth.getTransactionCount(t).then(function(){var i=Object(a["a"])(regeneratorRuntime.mark((function a(i){var u,h,d;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,web3.eth.getGasPrice();case 2:return u=a.sent,a.next=5,web3.eth.estimateGas({from:t,to:n,data:r});case 5:h=a.sent,console.log("estimateGas",h),d=[{from:t,to:n,data:r,gasPrice:web3.utils.toHex(u),gas:web3.utils.toHex(h)}],web3.eth.sendTransaction(d[0]).on("transactionHash",(function(e){console.log("hash",e),e&&(c=e)})).on("receipt",(function(t){__ownInstance__.$store.dispatch("changeTradeStatus",{id:s,val:1,hash:c}),e(c)})).on("confirmation",(function(e,t){})).on("error",(function(e){var t=4001===e.code;__ownInstance__.$store.dispatch("changeTradeStatus",{id:s,val:2,isUserDeny:t,hash:c}),console.log("err",e),o(e)}));case 9:case"end":return a.stop()}}),a)})));return function(e){return i.apply(this,arguments)}}()).catch((function(e){console.log("getStakeRewardH2O",e),__ownInstance__.$store.dispatch("changeTradeStatus",{id:s,val:2,hash:c}),o(e)}))}))}}}]);