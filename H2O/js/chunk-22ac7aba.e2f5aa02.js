(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22ac7aba"],{1148:function(t,e,n){"use strict";var i=n("a691"),a=n("577e"),s=n("1d80");t.exports=function(t){var e=a(s(this)),n="",o=i(t);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},3949:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mintDetail-page"},[n("div",{staticClass:"app-container"},[n("div",{staticClass:"title"},[n("img",{attrs:{src:t.currentTokenImage(t.tokenInfo.name0),alt:""}}),n("img",{staticClass:"img2",attrs:{src:t.currentTokenImage(t.tokenInfo.name1),alt:""}}),n("span",[t._v(t._s(t.tokenInfo.name0+"-"+t.tokenInfo.name1))])]),t._m(0),n("div",{staticClass:"seleArea"},[n("div",{staticClass:"title"},[t._v("提供资产")]),n("div",{staticClass:"coinList"},[n("div",{staticClass:"item"},[n("p",{staticClass:"balance"},[Number(t.token0Num)>t.tokenInfo.balance0?n("span",{staticClass:"balaLack"},[t._v("当前地址余额不足")]):t._e(),n("span",{staticClass:"tit"},[t._v("余额：")]),n("span",{staticClass:"num"},[t._v(t._s(t.toFixed(t.tokenInfo.balance0,6)||"--")+" "+t._s(t.tokenInfo.name0))])]),n("div",{staticClass:"sele-area"},[n("img",{attrs:{src:t.currentTokenImage(t.tokenInfo.name0),alt:""}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.token0Num,expression:"token0Num"}],attrs:{type:"text",minLength:"1",maxLength:"79"},domProps:{value:t.token0Num},on:{input:[function(e){e.target.composing||(t.token0Num=e.target.value)},function(e){return t.inputEvent(e,"token0Num")}]}}),n("div",{staticClass:"kind"},[t._v(t._s(t.tokenInfo.name0))])]),n("div",{staticClass:"btn-area"},t._l(t.btnsList,(function(e){return n("div",{key:e.val,class:["btn",{active:t.token0ActivePer===e.val}],on:{click:function(n){return t.perBalanceClick(0,e.val)}}},[t._v(" "+t._s(e.label)+" ")])})),0)]),n("div",{staticClass:"item"},[n("p",{staticClass:"balance"},[Number(t.token1Num)>t.tokenInfo.balance1?n("span",{staticClass:"balaLack"},[t._v("当前地址余额不足")]):t._e(),n("span",{staticClass:"tit"},[t._v("余额：")]),n("span",{staticClass:"num"},[t._v(t._s(t.toFixed(t.tokenInfo.balance1,6)||"--")+" "+t._s(t.tokenInfo.name1))])]),n("div",{staticClass:"sele-area"},[n("img",{attrs:{src:t.currentTokenImage(t.tokenInfo.name1),alt:""}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.token1Num,expression:"token1Num"}],attrs:{type:"text",minLength:"1",maxLength:"79"},domProps:{value:t.token1Num},on:{input:[function(e){e.target.composing||(t.token1Num=e.target.value)},function(e){return t.inputEvent(e,"token1Num")}]}}),n("div",{staticClass:"kind"},[t._v(t._s(t.tokenInfo.name1))])]),n("div",{staticClass:"btn-area"},t._l(t.btnsList,(function(e){return n("div",{key:e.val,class:["btn",{active:t.token1ActivePer===e.val}],on:{click:function(n){return t.perBalanceClick(1,e.val)}}},[t._v(" "+t._s(e.label)+" ")])})),0)])])]),n("div",{staticClass:"mutiSele"},[n("div",{staticClass:"title"},[t._v(" 杠杆倍数 ")]),n("div",{staticClass:"area"},[n("div",{staticClass:"seleBar"},[n("el-slider",{attrs:{"show-tooltip":!1,step:1,max:9,min:1},model:{value:t.multiple,callback:function(e){t.multiple=e},expression:"multiple"}}),t._m(1)],1),n("div",{staticClass:"display"},[n("span",{staticClass:"num"},[t._v(t._s(t.multiple))]),n("span",{staticClass:"x"},[t._v("x")])])])]),n("div",{staticClass:"browposition"},[n("div",{staticClass:"title"},[t._m(2),n("div",{staticClass:"balance"},[Number(t.showBorrowAmount)>Number(t.borrowBalance)?n("span",{staticClass:"balaLack"},[t._v("超过最大可借出余额")]):t._e(),n("span",[t._v("可用余额：")]),t._v(" "+t._s(t.toFixed(t.borrowBalance,6)||"--")+" ")])]),n("div",{staticClass:"btns"},[t.tokenInfo.borrowList.token0?n("div",{class:["item",{active:0===t.borrowActive}],on:{click:function(e){t.borrowActive=0}}},[t._v(" "+t._s(t.tokenInfo.name0)+" ")]):t._e(),t.tokenInfo.borrowList.token1?n("div",{class:["item",{active:1===t.borrowActive}],on:{click:function(e){t.borrowActive=1}}},[t._v(" "+t._s(t.tokenInfo.name1)+" ")]):t._e()]),t._m(3)]),n("div",{staticClass:"handlingFee"},[t._m(4),n("div",{staticClass:"content"},[n("div",{staticClass:"line"},[n("div",{staticClass:"tit"},[t._v("提供资产")]),n("div",{staticClass:"cnt"},[t._v(t._s(t.toFixed(t.token0Num||0,6))+" "+t._s(t.tokenInfo.name0)+" + "+t._s(t.toFixed(t.token1Num||0,6))+" "+t._s(t.tokenInfo.name1))])]),n("div",{staticClass:"line"},[n("div",{staticClass:"tit"},[t._v("借入资产")]),n("div",{staticClass:"cnt"},[t._v(t._s(t.toFixed(t.showBorrowAmount||0,6))+" "+t._s(t.borrowName))])]),n("div",{staticClass:"line"},[n("div",{staticClass:"tit"},[t._v("资产总价值")]),n("div",{staticClass:"cnt"},[t._v(t._s(t.totalToken0Amount+" "+t.tokenInfo.name0)+" + "+t._s(t.totalToken1Amount+" "+t.tokenInfo.name1))])]),n("div",{staticClass:"line"},[n("div",{staticClass:"tit"},[t._v("当前风险系数")]),n("div",{staticClass:"cnt"},[t._v(t._s(t.toFixed(t.riskCoeff,2))+"%")])]),t._m(5)])]),n("div",{staticClass:"submitOrder"},[n("button",{directives:[{name:"loading",rawName:"v-loading",value:t.subBtnLoading,expression:"subBtnLoading"}],class:["enter",{disabled:t.btnDisabled}],attrs:{disabled:t.btnDisabled},on:{click:t.confirmMint}},[t._v(" "+t._s(t.btnTextInfo)+" ")]),n("div",{staticClass:"btn",on:{click:function(e){return t.$router.go(-1)}}},[t._v(" 返回 ")])])])])},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"infoBar"},[n("div",{staticClass:"content"},[n("div",{staticClass:"item"},[n("div",{staticClass:"num"},[t._v("1")]),n("p",[t._v("授权")])]),n("div",{staticClass:"item"},[n("div",{staticClass:"num"},[t._v("2")]),n("p",[t._v("配置杠杆参数")])]),n("div",{staticClass:"item"},[n("div",{staticClass:"num"},[t._v("3")]),n("p",[t._v("确认开仓")])])]),n("div",{staticClass:"progressbar"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"barinfo"},[n("span",[t._v("1x")]),n("span",[t._v("9x")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"info"},[t._v(" 借入资产 "),n("span",[t._v("(最小值：100，最大值：50000000)")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"warnTips"},[i("img",{attrs:{src:n("f45a"),alt:""}}),i("span",[t._v("建议分别提供两种等值的资产，可最大程度减少手续费及滑点损失。")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"title"},[n("div",{staticClass:"info"},[t._v(" 价格影响及交易手续费 ")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"line"},[i("div",{staticClass:"tit"},[t._v("综合年化收益率（复利）")]),i("div",{staticClass:"cnt"},[i("span",{staticClass:"green"},[t._v("502.02%")]),i("img",{attrs:{src:n("fc21"),alt:""}})])])}],s=n("1da1"),o=n("5530"),r=(n("96cf"),n("a9e3"),n("b680"),n("3a48")),c=n("4729"),l=n("34e5"),u=(n("1ea3"),n("2f62")),m={name:"MintDetail",data:function(){return{multiple:1,btnsList:[{label:"25%",val:25},{label:"50%",val:50},{label:"75%",val:75},{label:"100%",val:100}],token0ActivePer:0,token1ActivePer:0,token0Num:"",token1Num:"",borrowActive:0,borrowList:[],tokenInfo:{token0:"",token1:"",name0:"--",name1:"--",balance0:0,balance1:0,decimals0:18,decimals1:18,borrowList:{token0:!0,token1:!0},type:"",posId:"",strategyAdd:"",BankBalance0:"--",BankBalance1:"--"},subBtnLoading:!0,approve1:!1,approve0:!1,tokenToTokenPrice:1}},computed:Object(o["a"])({borrowToken1:function(){return(Number(this.token0Num)*this.tokenToTokenPrice+Number(this.token1Num))*(this.multiple-1)},borrowToken0:function(){return"0"===this.tokenToTokenPrice?Number(this.token0Num)*(this.multiple-1):(Number(this.token0Num)+Number(this.token1Num)/this.tokenToTokenPrice)*(this.multiple-1)},showBorrowAmount:function(){return 0===this.borrowActive?this.borrowToken0:this.borrowToken1},borrowBalance:function(){return 0===this.borrowActive?this.tokenInfo.BankBalance0:this.tokenInfo.BankBalance1},borrowName:function(){return 0===this.borrowActive?this.tokenInfo.name0:this.tokenInfo.name1},btnDisabled:function(){return this.approve1&&this.approve0&&(!Number(this.token0Num)&&!Number(this.token1Num)||Number(this.token0Num)>this.tokenInfo.balance0||Number(this.token1Num)>this.tokenInfo.balance1||Number(this.showBorrowAmount)>Number(this.borrowBalance))},btnTextInfo:function(){return this.approve0?this.approve1?"开仓":"授权 "+this.tokenInfo.name1:"授权 "+this.tokenInfo.name0},totalTokenASToken1:function(){return 0===this.borrowActive?(Number(this.token0Num)+this.showBorrowAmount)*this.tokenToTokenPrice+Number(this.token1Num):Number(this.token0Num)*this.tokenToTokenPrice+Number(this.token1Num)+this.showBorrowAmount},totalToken0Amount:function(){return this.toFixed(.5*this.totalTokenASToken1/this.tokenToTokenPrice,6)},totalToken1Amount:function(){return this.toFixed(.5*this.totalTokenASToken1,6)},riskCoeff:function(){return this.totalTokenASToken1?this.showBorrowAmount/this.totalTokenASToken1*100:0}},Object(u["c"])({mainTheme:function(t){return t.comps.mainTheme}})),created:function(){var t=this;try{var e=sessionStorage.getItem("mintInfo"),n=JSON.parse(e);for(var i in n)this.tokenInfo[i]=n[i];n.multiple&&!isNaN(n.multiple)&&(this.multiple=Number(n.multiple)),n.borrowList&&!n.borrowList.token0&&(this.borrowActive=1)}catch(a){}setTimeout((function(){t.getAllBalancesApprove()}),300),console.log("type",this.tokenInfo)},methods:{currentTokenImage:function(t){var e="light"===this.mainTheme?"L":"D";return r["a"][t]&&r["a"][t][e]?r["a"][t][e]:r["a"].default},perBalanceClick:function(t,e){0===t?(this.token0Num=this.toFixed(this.tokenInfo.balance0*e/100,6),this.token0ActivePer=e):1===t&&(this.token1Num=this.toFixed(this.tokenInfo.balance1*e/100,6),this.token1ActivePer=e)},inputEvent:function(t,e){this[e]=this.$inputLimit(t,6,!0);var n=0;switch(e){case"token0Num":n=this.tokenInfo.balance0,this.token0ActivePer=Number(this[e])/n*100;break;case"token1Num":n=this.tokenInfo.balance1,this.token1ActivePer=Number(this[e])/n*100;break}},confirmMint:function(){var t=this,e=this.tokenInfo,n=e.token0,i=e.token1,a=e.decimals0,s=e.decimals1,o=e.strategyAdd;this.approve1?this.approve0?Object(l["h"])(i,n,this.token1Num||0,this.token0Num||0,s,a,this.toFixed(this.borrowToken1,6),0,this.tokenInfo.posId,o):Object(l["b"])(n,o).then((function(){t.approve0=!0})):Object(l["b"])(i,o).then((function(){t.approve1=!0}))},getAllBalancesApprove:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,i,a,s,o,r,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.tokenInfo,i=n.token0,a=n.token1,s=n.decimals0,o=n.decimals1,r=n.strategyAdd,!i){e.next=9;break}return e.next=4,Object(c["f"])(i,s);case 4:return l=e.sent,t.tokenInfo.balance0=l,e.next=8,Object(c["A"])(i,s,l,r);case 8:t.approve0=e.sent;case 9:if(!a){e.next=17;break}return e.next=12,Object(c["f"])(a,o);case 12:return u=e.sent,t.tokenInfo.balance1=u,e.next=16,Object(c["A"])(a,o,u,r);case 16:t.approve1=e.sent;case 17:return e.next=19,Object(c["v"])(i,a);case 19:t.tokenToTokenPrice=e.sent,t.subBtnLoading=!1,console.log("tokenToTokenPrice",t.tokenToTokenPrice);case 22:case"end":return e.stop()}}),e)})))()}}},v=m,k=(n("c2ef"),n("2877")),f=Object(k["a"])(v,i,a,!1,null,"5f95f568",null);e["default"]=f.exports},"408a":function(t,e,n){var i=n("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=i(t))throw TypeError("Incorrect invocation");return+t}},b680:function(t,e,n){"use strict";var i=n("23e7"),a=n("a691"),s=n("408a"),o=n("1148"),r=n("d039"),c=1..toFixed,l=Math.floor,u=function(t,e,n){return 0===e?n:e%2===1?u(t,e-1,n*t):u(t*t,e/2,n)},m=function(t){var e=0,n=t;while(n>=4096)e+=12,n/=4096;while(n>=2)e+=1,n/=2;return e},v=function(t,e,n){var i=-1,a=n;while(++i<6)a+=e*t[i],t[i]=a%1e7,a=l(a/1e7)},k=function(t,e){var n=6,i=0;while(--n>=0)i+=t[n],t[n]=l(i/e),i=i%e*1e7},f=function(t){var e=6,n="";while(--e>=0)if(""!==n||0===e||0!==t[e]){var i=String(t[e]);n=""===n?i:n+o.call("0",7-i.length)+i}return n},b=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r((function(){c.call({})}));i({target:"Number",proto:!0,forced:b},{toFixed:function(t){var e,n,i,r,c=s(this),l=a(t),b=[0,0,0,0,0,0],d="",h="0";if(l<0||l>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(d="-",c=-c),c>1e-21)if(e=m(c*u(2,69,1))-69,n=e<0?c*u(2,-e,1):c/u(2,e,1),n*=4503599627370496,e=52-e,e>0){v(b,0,n),i=l;while(i>=7)v(b,1e7,0),i-=7;v(b,u(10,i,1),0),i=e-1;while(i>=23)k(b,1<<23),i-=23;k(b,1<<i),v(b,1,1),k(b,2),h=f(b)}else v(b,0,n),v(b,1<<-e,0),h=f(b)+o.call("0",l);return l>0?(r=h.length,h=d+(r<=l?"0."+o.call("0",l-r)+h:h.slice(0,r-l)+"."+h.slice(r-l))):h=d+h,h}})},c2ef:function(t,e,n){"use strict";n("f848")},f45a:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAjZJREFUOE+llLFrFEEUxn9vz0oE3Tu1ys0mAZEIgihiIYI2mpgYEgUrUQnYJYKNpWjhfxAQQTgFBQ3pEvUQSaFim0JFEJXs3MYUmtuzd+fJJHfncWyC6HQzb9633/f2+0boWgpBo1weVZFzwHGgp3klARaA2dDapwKus1U6N2lv7wFVfYDqAPAckRfAV8Df60f1JDAEvMe5i8UkedfqbwOl6yweA68Kzk1uT5LP3Wz9/mdPz54sCKaBY+rc2VKSVP35GlAjig461TfAvdDaawJZHkjrTKGQGuPBLuHcEc9M/EzSKFrEueWwVhvp1t4wpl+DwIVLS0ud4E2wZ8Du0NpDkkbRuKo+CVQHdtRqX7qZrBpTQURLcTzRXWvK/AiMSb1cfkQQbC3G8XienFVj7vvzkrWX8+p1Y+aAutSNWQFuFq29+09AUTSJ6nUPpOrcUGv6OdI2ZxRFw6jO/z+QMSPAnAf6BtzaSFo9im6rc1mpVruRO6MOaQ+BbUVrxzbzzka1ujHzCj8kLZfHVGSm4Ny+PDf73x/Ar9DaK91g3/v69hay7AMiZ/4YUnUltHa429WpMVMqosU49k5uL2/IhjFVB2HR2sNrEVkLq3NvEamEcXz1LyNyB7jQjkjrE/UoOo3qLPA6y7KpXcvLn/Lm4uVsybJphaMORnda+7Id2lZDk1kF2A9UEami6jMmAr0Kg8AphUVxbiL3GelItg/xoKqeF9UTiKw/bKqJiiyIyEwYx1UB7WT8GyJXIwxrvCz0AAAAAElFTkSuQmCC"},f848:function(t,e,n){},fc21:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAiBJREFUOE+llL9rU1EUxz+nHfyBi4vgj0EKUioI0iJCbiK6qDXNS6LYSVQKbq3g4ihx8D8IiCBEQUFjl7yXahDpoHmpi2ZQEUSlQ00Wca6Y3CM3IaZtEhW947nvfN73nHu+R9h4MgwxEfNQewaVo4juaX2isgK6yJDM86q8QAa7NlXWcRYiB2nKXYQx4AnIU1Q/IwiWEYTjwCTKW9SeJ7X0ppPfBRWMh/AAlefQnCW59LFHrQsER/ahzSwQQ+U0yXLJhdsgPzYOtgzcZnXXFaYfNftCOsH82WE21bIIF7D2sFMmuJ6Mmyrwhdfh1MbaKUZH+NGwpF8ur4M72ObaY5QdVMMJIYimQR/S0DHSlU89SnyTA1G88kzPXbvM9yApwTf3QbfiVdL9e2LutOKJ8GLfez8SoPLNgepABi+89U+ggplFuOpAispkp/u98v+gqBCJI1L8f5AfnQINhMDUUK4PLM03NxCaJMJrfUv/VVrB3EPYhhemfjs7gy6DaBH0qxDEUmDzWLu/7zS3np8GXniph1Uwowjv3Jt2B1Klzved8Z6p9iNzqCjJ0Nmie9xAbqmVULaTCA+1LdI2awU0x+ruy39nkfpNRM91LdL5R2BOocwDLxiWOeLlDwOaO8oQWRSDFY9U+VnXtJ0Mp6whOYQDiJSwWkJkubVG1O4FOQmcAKpYO9N/jXRgrcVmXMI0yjGgvdhgBVgE8iTCkkOvVfwTD8/klt73TOIAAAAASUVORK5CYII="}}]);